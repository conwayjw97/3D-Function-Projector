(this["webpackJsonpfunction-projector"]=this["webpackJsonpfunction-projector"]||[]).push([[0],{35:function(e,n,t){},44:function(e,n){},45:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(9),s=t.n(a),r=t(27),i=t.n(r),o=(t(35),t(13)),c=t(11),h=t(0),l=t(3),u=t(5),d=t(28),g=t(23),p=t(51),x="rgb(255, 255, 255)",v="rgb(0, 255, 0)",j="rgb(0, 0, 255)",b="rgb(255, 0, 43)",f=(new u.v(100,100,-100),new u.v(100,-100,-100)),w=(new u.v(100,100,100),new u.v(100,-100,100),new u.v(-100,100,-100)),O=new u.v(-100,-100,-100),R=(new u.v(-100,100,100),new u.v(-100,-100,100)),y=function(){function e(n,t,a,s,r,i,o){var c=this;Object(h.a)(this,e),this.expression=s,this.detail=r,this.xRange=[parseInt(i[0][0]),parseInt(i[0][1])],this.yRange=[parseInt(i[1][0]),parseInt(i[1][1])],this.zRange=[parseInt(i[2][0]),parseInt(i[2][1])],this.renderingFeatures=o,this.scene=new u.o,this.camera=new u.k(45,t/a,.1,1e3),this.camera.position.set(150,100,150),this.renderer=new u.w({canvas:n,antialias:!0}),this.renderer.setSize(t,a),this.renderer.setClearColor("rgb(40, 44, 52)"),this.controls=new d.a(this.camera,this.renderer.domElement),this.controls.target=new u.v(0,0,0),this.renderAxes(),this.renderExpression();!function e(){requestAnimationFrame(e),c.renderer.render(c.scene,c.camera),c.controls.update()}()}return Object(l.a)(e,[{key:"updateProjection",value:function(e,n,t,a){this.expression==e&&this.detail==n&&this.ranges==t&&this.renderingFeatures==a||(this.expression=e,this.detail=n,this.xRange=[parseInt(t[0][0]),parseInt(t[0][1])],this.yRange=[parseInt(t[1][0]),parseInt(t[1][1])],this.zRange=[parseInt(t[2][0]),parseInt(t[2][1])],this.renderingFeatures=a,this.scene.remove(this.expressionGroup),this.renderExpression())}},{key:"renderAxes",value:function(){this.renderLine(O,f,new u.f({color:v})),this.renderLine(O,R,new u.f({color:j})),this.renderLine(O,w,new u.f({color:b})),this.renderText("X",102.5,-100,-100,v),this.renderText("Y",-100,-100,102.5,j),this.renderText("Z",-100,102.5,-100,b)}},{key:"renderLine",value:function(e,n,t){var a=[e,n],s=(new u.a).setFromPoints(a),r=new u.e(s,t);this.scene.add(r)}},{key:"renderText",value:function(e,n,t,a,s){var r=new g.a(e,6,s);r.position.x=n,r.position.y=t,r.position.z=a,r.fontFace="Consolas",this.scene.add(r)}},{key:"createAxisUnit",value:function(e,n,t,a,s,r){var i=new g.a(n,4,r);return i.position.x=t,i.position.y=a,i.position.z=s,i.fontFace="Consolas",e.add(i),e}},{key:"renderExpression",value:function(){var e=this.evaluateExpression();this.expressionGroup=new u.d;for(var n=-80;n<100;n+=20)this.expressionGroup=this.createAxisUnit(this.expressionGroup,this.rangeScale(n,-100,100,this.xRange[0],this.xRange[1]),n,-105,-105,v),this.expressionGroup=this.createAxisUnit(this.expressionGroup,this.rangeScale(n,-100,100,this.yRange[0],this.yRange[1]),-105,-105,n,j),this.expressionGroup=this.createAxisUnit(this.expressionGroup,this.rangeScale(n,-100,100,this.zRange[0],this.zRange[1]),-105,n,-105,b);this.renderingFeatures.points&&(this.expressionGroup=this.createExpressionDots(this.expressionGroup,e));for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++)this.renderingFeatures.squares&&(this.expressionGroup=this.createExpressionSquare(this.expressionGroup,e,t,a)),this.renderingFeatures.planes&&(this.expressionGroup=this.createExpressionPlane(this.expressionGroup,e,t,a));this.scene.add(this.expressionGroup)}},{key:"rangeScale",value:function(e,n,t,a,s){return(e-n)*(s-a)/(t-n)+a}},{key:"evaluateExpression",value:function(){var e=[],n=(this.xRange[1]-this.xRange[0])/this.detail;if(this.expression.includes("x")||this.expression.includes("y"))for(var t=this.xRange[0];t<=this.xRange[1];t+=n){for(var a=this.expression.replaceAll("x","("+t+")"),s=[],r=this.yRange[0];r<=this.yRange[1];r+=n){var i=void 0;if(a.includes("y")){var o=a.replaceAll("y","("+r+")");i=Object(p.a)(o)}else i=Object(p.a)(a);i>=this.zRange[0]&&i<=this.zRange[1]&&s.push(new u.v(this.rangeScale(t,this.xRange[0],this.xRange[1],-100,100),this.rangeScale(i,this.zRange[0],this.zRange[1],-100,100),this.rangeScale(r,this.yRange[0],this.yRange[1],-100,100)))}s.length>0&&e.push(s)}return e}},{key:"createExpressionDots",value:function(e,n){var t=[].concat.apply([],n),a=(new u.a).setFromPoints(t),s=new u.l({color:x,size:.25}),r=new u.m(a,s);return e.add(r),e}},{key:"createExpressionSquare",value:function(e,n,t,a){if(void 0!==n[t+1]){var s=new u.f({color:x}),r=void 0!==n[t+1][a]&&void 0!==n[t+1][a]&&void 0!==n[t+1][a+1]&&void 0!==n[t][a+1],i=void 0!==n[t+1][a]&&void 0!==n[t+1][a+1],o=void 0!==n[t][a+1]&&void 0!==n[t+1][a],c=null;if(r?c=[n[t][a],n[t+1][a],n[t+1][a+1],n[t][a+1],n[t][a]]:i?c=[n[t][a],n[t+1][a],n[t+1][a+1],n[t][a]]:o&&(c=[n[t][a],n[t][a+1],n[t+1][a]]),null!==c){var h=(new u.a).setFromPoints(c),l=new u.e(h,s);e.add(l)}}return e}},{key:"createExpressionPlane",value:function(e,n,t,a){if(void 0!==n[t+1]){var s=this.getColourForY(n[t][a].y),r=new u.j({color:s,side:u.b}),i=void 0!==n[t+1][a]&&void 0!==n[t+1][a+1],o=void 0!==n[t][a+1]&&void 0!==n[t+1][a+1],c=void 0!==n[t][a+1]&&void 0!==n[t+1][a],h=!0;if(i){h=!1;var l=[n[t][a],n[t+1][a],n[t+1][a+1]],d=(new u.a).setFromPoints(l);e.add(new u.i(d,r))}if(o){h=!1;var g=[n[t][a],n[t][a+1],n[t+1][a+1]],p=(new u.a).setFromPoints(g);e.add(new u.i(p,r))}if(h&&c){var x=[n[t][a],n[t][a+1],n[t+1][a]],v=(new u.a).setFromPoints(x);e.add(new u.i(v,r))}}return e}},{key:"getColourForVector",value:function(e){var n,t;return 0,n=Math.round(2.55*Math.abs(e.z)),t=Math.round(2.55*Math.abs(e.y)),"rgb("+n+","+Math.round(2.55*Math.abs(e.x))+","+t+")"}},{key:"getColourForY",value:function(e){var n,t,a;return n=t=a=0,e>0?(n=Math.round(2.55*e),t=Math.round(255-n)):(a=Math.round(2.55*-e),t=Math.round(255-a)),"rgb("+n+","+t+","+a+")"}}]),e}(),C=(t(45),t(7));var k=function(e){var n=Object(a.useRef)(null),t=window.innerWidth,s=window.innerHeight,r=Object(a.useRef)(null);return Object(a.useEffect)((function(){var a=new y(n.current,t,s,e.expression,e.detail,e.ranges,e.renderingFeatures);r.current={updateProjection:function(e,n,t,s){a.updateProjection(e,n,t,s)}}}),[]),Object(a.useEffect)((function(){r.current.updateProjection(e.expression,e.detail,e.ranges,e.renderingFeatures)}),[e.updateCount]),Object(C.jsx)("canvas",{ref:n,width:t,height:s,className:"canvas",children:Object(C.jsx)("p",{children:"Your browser doesn't support canvas."})})};t(47);var m=function(e){return Object(C.jsx)("div",{className:"controls",children:Object(C.jsxs)("div",{className:"expression",children:[Object(C.jsx)("label",{children:"Detail: "}),Object(C.jsx)("input",{type:"range",id:"detail",name:"detail",min:"10",max:"200",value:e.detail,onChange:e.handleDetailChange}),Object(C.jsx)("label",{children:" Z = "}),Object(C.jsx)("input",{type:"text",id:"expression",name:"expression",value:e.expression,onChange:e.handleExpressionChange}),Object(C.jsx)("button",{onClick:e.handleUpdate,children:"Update"}),Object(C.jsx)("label",{children:" X Range: ["}),Object(C.jsx)("input",{type:"text",id:"lowerXRange",value:e.ranges[0][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(C.jsx)("label",{children:","}),Object(C.jsx)("input",{type:"text",id:"upperXRange",value:e.ranges[0][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(C.jsx)("label",{children:"]"}),Object(C.jsx)("label",{children:" Y Range: ["}),Object(C.jsx)("input",{type:"text",id:"lowerYRange",value:e.ranges[1][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(C.jsx)("label",{children:","}),Object(C.jsx)("input",{type:"text",id:"upperYRange",value:e.ranges[1][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(C.jsx)("label",{children:"]"}),Object(C.jsx)("label",{children:" Z Range: ["}),Object(C.jsx)("input",{type:"text",id:"lowerZRange",value:e.ranges[2][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(C.jsx)("label",{children:","}),Object(C.jsx)("input",{type:"text",id:"upperZRange",value:e.ranges[2][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(C.jsx)("label",{children:"]"}),Object(C.jsx)("label",{children:" Points: "}),Object(C.jsx)("input",{id:"pointsToggle",type:"checkbox",defaultChecked:!0,onChange:e.handleRenderingFeatureChange}),Object(C.jsx)("label",{children:" Squares: "}),Object(C.jsx)("input",{id:"squaresToggle",type:"checkbox",defaultChecked:!0,onChange:e.handleRenderingFeatureChange}),Object(C.jsx)("label",{children:" Planes: "}),Object(C.jsx)("input",{id:"planesToggle",type:"checkbox",defaultChecked:!0,onChange:e.handleRenderingFeatureChange})]})})};t(48);var F=function(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],s=n[1],r=Object(a.useState)(50),i=Object(c.a)(r,2),h=i[0],l=i[1],u=Object(a.useState)("1-abs(x+y)-abs(y-x)"),d=Object(c.a)(u,2),g=d[0],p=d[1],x=Object(a.useState)([["-100","100"],["-100","100"],["-100","100"]]),v=Object(c.a)(x,2),j=v[0],b=v[1],f=Object(a.useState)({points:!0,squares:!0,planes:!0}),w=Object(c.a)(f,2),O=w[0],R=w[1];return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(k,{detail:h,expression:g,ranges:j,renderingFeatures:O,updateCount:t}),Object(C.jsx)(m,{detail:h,handleDetailChange:function(e){l(e.target.value)},expression:g,handleExpressionChange:function(e){p(e.target.value)},ranges:j,handleRangeChange:function(e){var n=Object(o.a)(j);switch(e.target.id){case"lowerXRange":n[0][0]=e.target.value;break;case"upperXRange":n[0][1]=e.target.value;break;case"lowerYRange":n[1][0]=e.target.value;break;case"upperYRange":n[1][1]=e.target.value;break;case"lowerZRange":n[2][0]=e.target.value;break;case"upperZRange":n[2][1]=e.target.value}b(n)},handleRenderingFeatureChange:function(e){var n=JSON.parse(JSON.stringify(O));switch(e.target.id){case"pointsToggle":n.points=e.target.checked;break;case"squaresToggle":n.squares=e.target.checked;break;case"planesToggle":n.planes=e.target.checked}R(n)},handleUpdate:function(){s(t+1)}})]})};i.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(F,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.6c0a9c50.chunk.js.map