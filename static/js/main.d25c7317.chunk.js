(this["webpackJsonpfunction-projector"]=this["webpackJsonpfunction-projector"]||[]).push([[0],{35:function(e,n,t){},44:function(e,n){},45:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(9),r=t.n(a),s=t(26),i=t.n(s),o=(t(35),t(13)),c=t(11),l=t(0),h=t(3),d=t(5),u=t(28),p=t(27),g=t(51),v="rgb(255, 255, 255)",x="rgb(0, 255, 0)",j="rgb(0, 0, 255)",b="rgb(255, 0, 43)",f=(new d.v(100,100,-100),new d.v(100,-100,-100)),w=(new d.v(100,100,100),new d.v(100,-100,100),new d.v(-100,100,-100)),O=new d.v(-100,-100,-100),R=(new d.v(-100,100,100),new d.v(-100,-100,100)),y=function(){function e(n,t,a,r,s,i){var o=this;Object(l.a)(this,e),this.expression=r,this.detail=s,this.xRange=[parseInt(i[0][0]),parseInt(i[0][1])],this.yRange=[parseInt(i[1][0]),parseInt(i[1][1])],this.zRange=[parseInt(i[2][0]),parseInt(i[2][1])],this.scene=new d.o,this.camera=new d.k(45,t/a,.1,1e3),this.camera.position.set(150,100,150),this.renderer=new d.w({canvas:n,antialias:!0}),this.renderer.setSize(t,a),this.renderer.setClearColor("rgb(40, 44, 52)"),this.controls=new u.a(this.camera,this.renderer.domElement),this.controls.target=new d.v(0,0,0),this.renderAxisIndicators(),this.renderExpression();!function e(){requestAnimationFrame(e),o.renderer.render(o.scene,o.camera),o.controls.update()}()}return Object(h.a)(e,[{key:"updateProjection",value:function(e,n,t){this.expression==e&&this.detail==n&&this.ranges==t||(this.expression=e,this.detail=n,this.xRange=[parseInt(t[0][0]),parseInt(t[0][1])],this.yRange=[parseInt(t[1][0]),parseInt(t[1][1])],this.zRange=[parseInt(t[2][0]),parseInt(t[2][1])],this.scene.remove(this.expressionGroup),this.renderExpression())}},{key:"renderAxisIndicators",value:function(){this.renderLine(O,f,new d.f({color:x})),this.renderLine(O,w,new d.f({color:b})),this.renderLine(O,R,new d.f({color:j})),this.renderText("X",102.5,-100,-100,x),this.renderText("Z",-100,102.5,-100,b),this.renderText("Y",-100,-100,102.5,j)}},{key:"renderLine",value:function(e,n,t){var a=[e,n],r=(new d.a).setFromPoints(a),s=new d.e(r,t);this.scene.add(s)}},{key:"renderText",value:function(e,n,t,a,r){var s=new p.a(e,6,r);s.position.x=n,s.position.y=t,s.position.z=a,s.fontFace="Consolas",this.scene.add(s)}},{key:"renderExpression",value:function(){var e=this.evaluateExpression();this.expressionGroup=new d.d,this.expressionGroup=this.createExpressionDots(this.expressionGroup,e);for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++)this.expressionGroup=this.createExpressionSquare(this.expressionGroup,e,n,t),this.expressionGroup=this.createExpressionPlane(this.expressionGroup,e,n,t);this.scene.add(this.expressionGroup)}},{key:"rangeScale",value:function(e,n,t){return 200*(e-n)/(t-n)-100}},{key:"evaluateExpression",value:function(){var e=[],n=(this.xRange[1]-this.xRange[0])/this.detail;if(this.expression.includes("x")||this.expression.includes("y"))for(var t=this.xRange[0];t<=this.xRange[1];t+=n){for(var a=this.expression.replaceAll("x","("+t+")"),r=[],s=this.yRange[0];s<=this.yRange[1];s+=n){var i=void 0;if(a.includes("y")){var o=a.replaceAll("y","("+s+")");i=Object(g.a)(o)}else i=Object(g.a)(a);i>=this.zRange[0]&&i<=this.zRange[1]&&r.push(new d.v(this.rangeScale(t,this.xRange[0],this.xRange[1]),this.rangeScale(i,this.zRange[0],this.zRange[1]),this.rangeScale(s,this.yRange[0],this.yRange[1])))}r.length>0&&e.push(r)}return e}},{key:"createExpressionDots",value:function(e,n){var t=[].concat.apply([],n),a=(new d.a).setFromPoints(t),r=new d.l({color:v,size:.25}),s=new d.m(a,r);return e.add(s),e}},{key:"createExpressionSquare",value:function(e,n,t,a){if(void 0!==n[t+1]){var r=new d.f({color:v}),s=void 0!==n[t+1][a]&&void 0!==n[t+1][a]&&void 0!==n[t+1][a+1]&&void 0!==n[t][a+1],i=void 0!==n[t+1][a]&&void 0!==n[t+1][a+1],o=void 0!==n[t][a+1]&&void 0!==n[t+1][a],c=null;if(s?c=[n[t][a],n[t+1][a],n[t+1][a+1],n[t][a+1],n[t][a]]:i?c=[n[t][a],n[t+1][a],n[t+1][a+1],n[t][a]]:o&&(c=[n[t][a],n[t][a+1],n[t+1][a]]),null!==c){var l=(new d.a).setFromPoints(c),h=new d.e(l,r);e.add(h)}}return e}},{key:"createExpressionPlane",value:function(e,n,t,a){if(void 0!==n[t+1]){var r=this.getColourForY(n[t][a].y),s=new d.j({color:r,side:d.b}),i=void 0!==n[t+1][a]&&void 0!==n[t+1][a+1],o=void 0!==n[t][a+1]&&void 0!==n[t+1][a+1],c=void 0!==n[t][a+1]&&void 0!==n[t+1][a],l=!0;if(i){l=!1;var h=[n[t][a],n[t+1][a],n[t+1][a+1]],u=(new d.a).setFromPoints(h);e.add(new d.i(u,s))}if(o){l=!1;var p=[n[t][a],n[t][a+1],n[t+1][a+1]],g=(new d.a).setFromPoints(p);e.add(new d.i(g,s))}if(l&&c){var v=[n[t][a],n[t][a+1],n[t+1][a]],x=(new d.a).setFromPoints(v);e.add(new d.i(x,s))}}return e}},{key:"getColourForVector",value:function(e){var n,t;return 0,n=Math.round(2.55*Math.abs(e.z)),t=Math.round(2.55*Math.abs(e.y)),"rgb("+n+","+Math.round(2.55*Math.abs(e.x))+","+t+")"}},{key:"getColourForY",value:function(e){var n,t,a;return n=t=a=0,e>0?(n=Math.round(2.55*e),t=Math.round(255-n)):(a=Math.round(2.55*-e),t=Math.round(255-a)),"rgb("+n+","+t+","+a+")"}}]),e}(),m=(t(45),t(7));var C=function(e){var n=Object(a.useRef)(null),t=window.innerWidth,r=window.innerHeight,s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var a=new y(n.current,t,r,e.expression,e.detail,e.ranges);s.current={updateProjection:function(e,n,t){a.updateProjection(e,n,t)}}}),[]),Object(a.useEffect)((function(){s.current.updateProjection(e.expression,e.detail,e.ranges)}),[e.updateCount]),Object(m.jsx)("canvas",{ref:n,width:t,height:r,className:"canvas",children:Object(m.jsx)("p",{children:"Your browser doesn't support canvas."})})};t(47);var k=function(e){return Object(m.jsx)("div",{className:"controls",children:Object(m.jsxs)("div",{className:"expression",children:[Object(m.jsx)("label",{children:"Detail: "}),Object(m.jsx)("input",{type:"range",id:"detail",name:"detail",min:"1",max:"200",value:e.detail,onChange:e.handleDetailChange}),Object(m.jsx)("label",{children:" Z = "}),Object(m.jsx)("input",{type:"text",id:"expression",name:"expression",value:e.expression,onChange:e.handleExpressionChange}),Object(m.jsx)("button",{onClick:e.handleUpdate,children:"Update"}),Object(m.jsx)("label",{children:" X Range: ["}),Object(m.jsx)("input",{type:"text",id:"lowerXRange",value:e.ranges[0][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:","}),Object(m.jsx)("input",{type:"text",id:"upperXRange",value:e.ranges[0][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:"]"}),Object(m.jsx)("label",{children:" Y Range: ["}),Object(m.jsx)("input",{type:"text",id:"lowerYRange",value:e.ranges[1][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:","}),Object(m.jsx)("input",{type:"text",id:"upperYRange",value:e.ranges[1][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:"]"}),Object(m.jsx)("label",{children:" Z Range: ["}),Object(m.jsx)("input",{type:"text",id:"lowerZRange",value:e.ranges[2][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:","}),Object(m.jsx)("input",{type:"text",id:"upperZRange",value:e.ranges[2][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:"]"})]})})};t(48);var E=function(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(50),i=Object(c.a)(s,2),l=i[0],h=i[1],d=Object(a.useState)("1-abs(x+y)-abs(y-x)"),u=Object(c.a)(d,2),p=u[0],g=u[1],v=Object(a.useState)([["-100","100"],["-100","100"],["-100","100"]]),x=Object(c.a)(v,2),j=x[0],b=x[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(C,{detail:l,expression:p,ranges:j,updateCount:t}),Object(m.jsx)(k,{detail:l,handleDetailChange:function(e){h(e.target.value)},expression:p,handleExpressionChange:function(e){g(e.target.value)},ranges:j,handleRangeChange:function(e){var n=Object(o.a)(j);switch(e.target.id){case"lowerXRange":n[0][0]=e.target.value;break;case"upperXRange":n[0][1]=e.target.value;break;case"lowerYRange":n[1][0]=e.target.value;break;case"upperYRange":n[1][1]=e.target.value;break;case"lowerZRange":n[2][0]=e.target.value;break;case"upperZRange":n[2][1]=e.target.value}b(n)},handleUpdate:function(){r(t+1)}})]})};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.d25c7317.chunk.js.map