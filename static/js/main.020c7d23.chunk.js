(this["webpackJsonpfunction-projector"]=this["webpackJsonpfunction-projector"]||[]).push([[0],{36:function(e,n,t){},45:function(e,n){},46:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var a=t(9),r=t.n(a),s=t(28),i=t.n(s),o=(t(36),t(13)),c=t(11),l=t(0),h=t(3),u=t(5),d=t(29),g=t(22),p=t(24),x=t(52),b="rgb(255, 255, 255)",j="rgb(0, 255, 0)",v="rgb(0, 0, 255)",f="rgb(255, 0, 43)",O=new u.C(100,-100,-100),R=new u.C(-100,100,-100),w=new u.C(-100,-100,-100),y=new u.C(-100,-100,100),C=function(){function e(n,t,a,r,s,i,o){var c=this;Object(l.a)(this,e),this.expression=r,this.detail=s,this.xRange=[parseInt(i[0][0]),parseInt(i[0][1])],this.yRange=[parseInt(i[1][0]),parseInt(i[1][1])],this.zRange=[parseInt(i[2][0]),parseInt(i[2][1])],this.renderingFeatures=o,this.scene=new u.s,this.camera=new u.o(45,t/a,.1,1e3),this.camera.position.set(150,100,150),this.renderer=new u.D({canvas:n,antialias:!0}),this.renderer.setSize(t,a),this.renderer.setClearColor("rgb(40, 44, 52)"),this.controls=new d.a(this.camera,this.renderer.domElement),this.controls.target=new u.C(0,0,0),this.renderAxes(),this.renderExpression();!function e(){requestAnimationFrame(e),c.renderer.render(c.scene,c.camera),c.controls.update()}()}return Object(h.a)(e,[{key:"updateProjection",value:function(e,n,t,a){this.expression===e&&this.detail===n&&this.ranges===t&&this.renderingFeatures===a||(this.expression=e,this.detail=n,this.xRange=[parseInt(t[0][0]),parseInt(t[0][1])],this.yRange=[parseInt(t[1][0]),parseInt(t[1][1])],this.zRange=[parseInt(t[2][0]),parseInt(t[2][1])],this.renderingFeatures=a,this.scene.remove(this.expressionGroup),this.renderExpression())}},{key:"renderAxes",value:function(){this.renderLine(w,O,new u.j({color:j})),this.renderLine(w,y,new u.j({color:v})),this.renderLine(w,R,new u.j({color:f})),this.renderText("X",102.5,-100,-100,j),this.renderText("Y",-100,-100,102.5,v),this.renderText("Z",-100,102.5,-100,f)}},{key:"renderLine",value:function(e,n,t){var a=[e,n],r=(new u.b).setFromPoints(a),s=new u.i(r,t);this.scene.add(s)}},{key:"renderText",value:function(e,n,t,a,r){var s=new p.a(e,6,r);s.position.x=n,s.position.y=t,s.position.z=a,s.fontFace="Consolas",this.scene.add(s)}},{key:"renderExpression",value:function(){var e=this.evaluateExpression();this.expressionGroup=new u.f;for(var n=-80;n<100;n+=20)this.expressionGroup.add(this.createAxisUnit(this.rangeScale(n,-100,100,this.xRange[0],this.xRange[1]),n,-105,-105,j)),this.expressionGroup.add(this.createAxisUnit(this.rangeScale(n,-100,100,this.yRange[0],this.yRange[1]),-105,-105,n,v)),this.expressionGroup.add(this.createAxisUnit(this.rangeScale(n,-100,100,this.zRange[0],this.zRange[1]),-105,n,-105,f));this.renderingFeatures.points&&this.expressionGroup.add(this.createExpressionDots(e));for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++){if(this.renderingFeatures.squares){var r=this.createExpressionSquare(e,t,a);null!=r&&this.expressionGroup.add(r)}if(this.renderingFeatures.planes){var s=this.createExpressionPlane(e,t,a);null!=s&&this.expressionGroup.add(s)}}this.scene.add(this.expressionGroup)}},{key:"rangeScale",value:function(e,n,t,a,r){return(e-n)*(r-a)/(t-n)+a}},{key:"evaluateExpression",value:function(){var e=[],n=(this.xRange[1]-this.xRange[0])/this.detail;if(this.expression.includes("x")||this.expression.includes("y"))for(var t=this.xRange[0];t<=this.xRange[1];t+=n){for(var a=this.expression.replaceAll("x","("+t+")"),r=[],s=this.yRange[0];s<=this.yRange[1];s+=n){var i=void 0;if(a.includes("y")){var o=a.replaceAll("y","("+s+")");i=Object(x.a)(o)}else i=Object(x.a)(a);if(i>=this.zRange[0]&&i<=this.zRange[1]){var c=this.rangeScale(t,this.xRange[0],this.xRange[1],-100,100),l=this.rangeScale(i,this.zRange[0],this.zRange[1],-100,100),h=this.rangeScale(s,this.yRange[0],this.yRange[1],-100,100);r.push(new u.C(c,l,h))}}r.length>0&&e.push(r)}return e}},{key:"createAxisUnit",value:function(e,n,t,a,r){var s=new p.a(e,4,r);return s.position.x=n,s.position.y=t,s.position.z=a,s.fontFace="Consolas",s}},{key:"createExpressionDots",value:function(e){var n=[].concat.apply([],e),t=(new u.b).setFromPoints(n),a=new u.q({color:b,size:.25});return new u.p(t,a)}},{key:"createExpressionSquare",value:function(e,n,t){if(void 0!==e[n+1]){var a=new u.j({color:b}),r=void 0!==e[n+1][t]&&void 0!==e[n+1][t]&&void 0!==e[n+1][t+1]&&void 0!==e[n][t+1],s=void 0!==e[n+1][t]&&void 0!==e[n+1][t+1],i=void 0!==e[n][t+1]&&void 0!==e[n+1][t],o=null;if(r?o=[e[n][t],e[n+1][t],e[n+1][t+1],e[n][t+1],e[n][t]]:s?o=[e[n][t],e[n+1][t],e[n+1][t+1],e[n][t]]:i&&(o=[e[n][t],e[n][t+1],e[n+1][t]]),null!==o){var c=(new u.b).setFromPoints(o);return new u.i(c,a)}}return null}},{key:"createExpressionPlane",value:function(e,n,t){if(void 0!==e[n+1]){var a=void 0!==e[n+1][t]&&void 0!==e[n+1][t+1],r=void 0!==e[n][t+1]&&void 0!==e[n+1][t+1],s=void 0!==e[n][t+1]&&void 0!==e[n+1][t],i=!0,o=(new u.b).setFromPoints([]);if(a){i=!1;var c=[e[n][t],e[n+1][t],e[n+1][t+1]];o=g.a.mergeBufferGeometries([o,(new u.b).setFromPoints(c)])}if(r){i=!1;var l=[e[n][t],e[n][t+1],e[n+1][t+1]];o=g.a.mergeBufferGeometries([o,(new u.b).setFromPoints(l)])}if(i&&s){var h=[e[n][t],e[n][t+1],e[n+1][t]];o=g.a.mergeBufferGeometries([o,(new u.b).setFromPoints(h)])}var d=null;d=void 0!==e[n+1][t+1]?this.getColourForY(e[n][t].y+(e[n+1][t+1].y-e[n][t].y)/2):this.getColourForY(e[n][t].y);var p=new u.n({color:d,side:u.c});return new u.m(o,p)}return null}},{key:"getColourForVector",value:function(e){var n,t;return 0,n=Math.round(2.55*Math.abs(e.z)),t=Math.round(2.55*Math.abs(e.y)),"rgb("+n+","+Math.round(2.55*Math.abs(e.x))+","+t+")"}},{key:"getColourForY",value:function(e){var n,t,a;return n=t=a=0,e>0?(n=Math.round(2.55*e),t=Math.round(255-n)):(a=Math.round(2.55*-e),t=Math.round(255-a)),"rgb("+n+","+t+","+a+")"}}]),e}(),m=(t(46),t(7));var k=function(e){var n=Object(a.useRef)(null),t=window.innerWidth,r=window.innerHeight,s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var a=new C(n.current,t,r,e.expression,e.detail,e.ranges,e.renderingFeatures);s.current={updateProjection:function(e,n,t,r){a.updateProjection(e,n,t,r)}}}),[]),Object(a.useEffect)((function(){s.current.updateProjection(e.expression,e.detail,e.ranges,e.renderingFeatures)}),[e.detail,e.ranges,e.renderingFeatures,e.updateCount]),Object(m.jsx)("canvas",{ref:n,width:t,height:r,className:"canvas",children:Object(m.jsx)("p",{children:"Your browser doesn't support canvas."})})};t(48);var F=function(e){return Object(m.jsx)("div",{className:"controls",children:Object(m.jsxs)("div",{className:"expression",children:[Object(m.jsx)("label",{children:"Detail: "}),Object(m.jsx)("input",{type:"range",id:"detail",name:"detail",min:"10",max:"100",value:e.detail,onChange:e.handleDetailChange}),Object(m.jsx)("label",{children:" Z = "}),Object(m.jsx)("input",{type:"text",id:"expression",name:"expression",value:e.expression,onChange:e.handleExpressionChange}),Object(m.jsx)("button",{onClick:e.handleUpdate,children:"Update"}),Object(m.jsx)("label",{children:" X Range: ["}),Object(m.jsx)("input",{type:"text",id:"lowerXRange",value:e.ranges[0][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:","}),Object(m.jsx)("input",{type:"text",id:"upperXRange",value:e.ranges[0][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:"]"}),Object(m.jsx)("label",{children:" Y Range: ["}),Object(m.jsx)("input",{type:"text",id:"lowerYRange",value:e.ranges[1][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:","}),Object(m.jsx)("input",{type:"text",id:"upperYRange",value:e.ranges[1][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:"]"}),Object(m.jsx)("label",{children:" Z Range: ["}),Object(m.jsx)("input",{type:"text",id:"lowerZRange",value:e.ranges[2][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:","}),Object(m.jsx)("input",{type:"text",id:"upperZRange",value:e.ranges[2][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),Object(m.jsx)("label",{children:"]"}),Object(m.jsx)("label",{children:" Points: "}),Object(m.jsx)("input",{id:"pointsToggle",type:"checkbox",defaultChecked:!0,onChange:e.handleRenderingFeatureChange}),Object(m.jsx)("label",{children:" Squares: "}),Object(m.jsx)("input",{id:"squaresToggle",type:"checkbox",defaultChecked:!0,onChange:e.handleRenderingFeatureChange}),Object(m.jsx)("label",{children:" Planes: "}),Object(m.jsx)("input",{id:"planesToggle",type:"checkbox",defaultChecked:!0,onChange:e.handleRenderingFeatureChange})]})})};t(49);var S=function(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(50),i=Object(c.a)(s,2),l=i[0],h=i[1],u=Object(a.useState)("1-abs(x+y)-abs(y-x)"),d=Object(c.a)(u,2),g=d[0],p=d[1],x=Object(a.useState)([["-100","100"],["-100","100"],["-100","100"]]),b=Object(c.a)(x,2),j=b[0],v=b[1],f=Object(a.useState)({points:!0,squares:!0,planes:!0}),O=Object(c.a)(f,2),R=O[0],w=O[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(k,{detail:l,expression:g,ranges:j,renderingFeatures:R,updateCount:t}),Object(m.jsx)(F,{detail:l,handleDetailChange:function(e){h(e.target.value)},expression:g,handleExpressionChange:function(e){p(e.target.value)},ranges:j,handleRangeChange:function(e){var n=Object(o.a)(j);switch(e.target.id){case"lowerXRange":n[0][0]=e.target.value;break;case"upperXRange":n[0][1]=e.target.value;break;case"lowerYRange":n[1][0]=e.target.value;break;case"upperYRange":n[1][1]=e.target.value;break;case"lowerZRange":n[2][0]=e.target.value;break;case"upperZRange":n[2][1]=e.target.value}v(n)},handleRenderingFeatureChange:function(e){var n=JSON.parse(JSON.stringify(R));switch(e.target.id){case"pointsToggle":n.points=e.target.checked;break;case"squaresToggle":n.squares=e.target.checked;break;case"planesToggle":n.planes=e.target.checked}w(n)},handleUpdate:function(){r(t+1)}})]})};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.020c7d23.chunk.js.map