(this["webpackJsonpfunction-projector"]=this["webpackJsonpfunction-projector"]||[]).push([[0],{41:function(e,n,t){},50:function(e,n){},51:function(e,n,t){},71:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var a=t(8),r=t.n(a),s=t(26),i=t.n(s),o=(t(41),t(14)),c=t(11),l=t(0),d=t(3),h=t(5),u=t(33),g=t(23),p=t(27),x=t(75),v="rgb(255, 255, 255)",j="rgb(0, 255, 0)",b="rgb(0, 0, 255)",f="rgb(255, 0, 43)",m=new h.C(100,-100,-100),w=new h.C(-100,100,-100),y=new h.C(-100,-100,-100),R=new h.C(-100,-100,100),O=function(){function e(n,t,a,r,s,i,o){var c=this;Object(l.a)(this,e),this.expression=r,this.detail=s,this.xRange=[parseInt(i[0][0]),parseInt(i[0][1])],this.yRange=[parseInt(i[1][0]),parseInt(i[1][1])],this.zRange=[parseInt(i[2][0]),parseInt(i[2][1])],this.renderingMethod=o,this.scene=new h.s,this.camera=new h.o(45,t/a,.1,1e3),this.camera.position.set(150,100,150),this.renderer=new h.D({canvas:n,antialias:!0}),this.renderer.setSize(t,a),this.renderer.setClearColor("rgb(40, 44, 52)"),this.controls=new u.a(this.camera,this.renderer.domElement),this.controls.target=new h.C(0,0,0),this.renderAxes(),this.renderExpression();!function e(){requestAnimationFrame(e),c.renderer.render(c.scene,c.camera),c.controls.update()}()}return Object(d.a)(e,[{key:"updateProjection",value:function(e,n,t,a){this.expression===e&&this.detail===n&&this.ranges===t&&this.renderingMethod===a||(this.expression=e,this.detail=n,this.xRange=[parseInt(t[0][0]),parseInt(t[0][1])],this.yRange=[parseInt(t[1][0]),parseInt(t[1][1])],this.zRange=[parseInt(t[2][0]),parseInt(t[2][1])],this.renderingMethod=a,this.scene.remove(this.expressionGroup),this.renderExpression())}},{key:"renderAxes",value:function(){this.renderLine(y,m,new h.j({color:j})),this.renderLine(y,R,new h.j({color:b})),this.renderLine(y,w,new h.j({color:f})),this.renderText("X",102.5,-100,-100,j),this.renderText("Y",-100,-100,102.5,b),this.renderText("Z",-100,102.5,-100,f)}},{key:"renderLine",value:function(e,n,t){var a=[e,n],r=(new h.b).setFromPoints(a),s=new h.i(r,t);this.scene.add(s)}},{key:"renderText",value:function(e,n,t,a,r){var s=new p.a(e,6,r);s.position.x=n,s.position.y=t,s.position.z=a,s.fontFace="Consolas",this.scene.add(s)}},{key:"renderExpression",value:function(){var e=this.evaluateExpression();this.expressionGroup=new h.f;for(var n=-80;n<100;n+=20)this.expressionGroup.add(this.createAxisUnit(this.rangeScale(n,-100,100,this.xRange[0],this.xRange[1]),n,-105,-105,j)),this.expressionGroup.add(this.createAxisUnit(this.rangeScale(n,-100,100,this.yRange[0],this.yRange[1]),-105,-105,n,b)),this.expressionGroup.add(this.createAxisUnit(this.rangeScale(n,-100,100,this.zRange[0],this.zRange[1]),-105,n,-105,f));this.renderingMethod.points&&this.expressionGroup.add(this.createExpressionDots(e));for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++){if(this.renderingMethod.squares){var r=this.createExpressionSquare(e,t,a);null!=r&&this.expressionGroup.add(r)}if(this.renderingMethod.planes){var s=this.createExpressionPlane(e,t,a);null!=s&&this.expressionGroup.add(s)}}this.scene.add(this.expressionGroup)}},{key:"rangeScale",value:function(e,n,t,a,r){return(e-n)*(r-a)/(t-n)+a}},{key:"evaluateExpression",value:function(){var e=[],n=(this.xRange[1]-this.xRange[0])/this.detail;if(this.expression.includes("x")||this.expression.includes("y"))for(var t=this.xRange[0];t<=this.xRange[1];t+=n){for(var a=this.expression.replaceAll("x","("+t+")"),r=[],s=this.yRange[0];s<=this.yRange[1];s+=n){var i=void 0;if(a.includes("y")){var o=a.replaceAll("y","("+s+")");i=Object(x.a)(o)}else i=Object(x.a)(a);if(i>=this.zRange[0]&&i<=this.zRange[1]){var c=this.rangeScale(t,this.xRange[0],this.xRange[1],-100,100),l=this.rangeScale(i,this.zRange[0],this.zRange[1],-100,100),d=this.rangeScale(s,this.yRange[0],this.yRange[1],-100,100);r.push(new h.C(c,l,d))}}r.length>0&&e.push(r)}return e}},{key:"createAxisUnit",value:function(e,n,t,a,r){var s=new p.a(e,4,r);return s.position.x=n,s.position.y=t,s.position.z=a,s.fontFace="Consolas",s}},{key:"createExpressionDots",value:function(e){var n=[].concat.apply([],e),t=(new h.b).setFromPoints(n),a=new h.q({color:v,size:.25});return new h.p(t,a)}},{key:"createExpressionSquare",value:function(e,n,t){if(void 0!==e[n+1]){var a=new h.j({color:v}),r=void 0!==e[n+1][t]&&void 0!==e[n+1][t]&&void 0!==e[n+1][t+1]&&void 0!==e[n][t+1],s=void 0!==e[n+1][t]&&void 0!==e[n+1][t+1],i=void 0!==e[n][t+1]&&void 0!==e[n+1][t],o=null;if(r?o=[e[n][t],e[n+1][t],e[n+1][t+1],e[n][t+1],e[n][t]]:s?o=[e[n][t],e[n+1][t],e[n+1][t+1],e[n][t]]:i&&(o=[e[n][t],e[n][t+1],e[n+1][t]]),null!==o){var c=(new h.b).setFromPoints(o);return new h.i(c,a)}}return null}},{key:"createExpressionPlane",value:function(e,n,t){if(void 0!==e[n+1]){var a=void 0!==e[n+1][t]&&void 0!==e[n+1][t+1],r=void 0!==e[n][t+1]&&void 0!==e[n+1][t+1],s=void 0!==e[n][t+1]&&void 0!==e[n+1][t],i=!0,o=(new h.b).setFromPoints([]);if(a){i=!1;var c=[e[n][t],e[n+1][t],e[n+1][t+1]];o=g.a.mergeBufferGeometries([o,(new h.b).setFromPoints(c)])}if(r){i=!1;var l=[e[n][t],e[n][t+1],e[n+1][t+1]];o=g.a.mergeBufferGeometries([o,(new h.b).setFromPoints(l)])}if(i&&s){var d=[e[n][t],e[n][t+1],e[n+1][t]];o=g.a.mergeBufferGeometries([o,(new h.b).setFromPoints(d)])}var u=null;u=void 0!==e[n+1][t+1]?this.getColourForY(e[n][t].y+(e[n+1][t+1].y-e[n][t].y)/2):this.getColourForY(e[n][t].y);var p=new h.n({color:u,side:h.c});return new h.m(o,p)}return null}},{key:"getColourForVector",value:function(e){var n,t;return 0,n=Math.round(2.55*Math.abs(e.z)),t=Math.round(2.55*Math.abs(e.y)),"rgb("+n+","+Math.round(2.55*Math.abs(e.x))+","+t+")"}},{key:"getColourForY",value:function(e){var n,t,a;return n=t=a=0,e>0?(n=Math.round(2.55*e),t=Math.round(255-n)):(a=Math.round(2.55*-e),t=Math.round(255-a)),"rgb("+n+","+t+","+a+")"}}]),e}(),C=(t(51),t(7));var k=function(e){var n=Object(a.useRef)(null),t=window.innerWidth,r=window.innerHeight,s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var a=new O(n.current,t,r,e.expression,e.detail,e.ranges,e.renderingMethod);s.current={updateProjection:function(e,n,t,r){a.updateProjection(e,n,t,r)}}}),[]),Object(a.useEffect)((function(){s.current.updateProjection(e.expression,e.detail,e.ranges,e.renderingMethod)}),[e.detail,e.renderingMethod,e.updateCount]),Object(C.jsx)("canvas",{ref:n,width:t,height:r,className:"canvas",children:Object(C.jsx)("p",{children:"Your browser doesn't support canvas."})})},M=t(35);t(71);var E=function(e){return Object(C.jsxs)(M.slide,{isOpen:!0,disableAutoFocus:!0,width:375,children:[Object(C.jsx)("label",{className:"centered large-print",children:"Projection"}),Object(C.jsxs)("label",{className:"centered",children:["Z =",Object(C.jsx)("input",{type:"text",id:"expression",style:{marginLeft:"0.25em"},value:e.expression,onChange:e.handleExpressionChange})]}),Object(C.jsxs)("label",{className:"centered",children:["X Range: [",Object(C.jsx)("input",{type:"text",id:"lowerXRange",value:e.ranges[0][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),",",Object(C.jsx)("input",{type:"text",id:"upperXRange",value:e.ranges[0][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),"]"]}),Object(C.jsxs)("label",{className:"centered",children:["Y Range: [",Object(C.jsx)("input",{type:"text",id:"lowerYRange",value:e.ranges[1][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),",",Object(C.jsx)("input",{type:"text",id:"upperYRange",value:e.ranges[1][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),"]"]}),Object(C.jsxs)("label",{className:"centered",children:["Z Range: [",Object(C.jsx)("input",{type:"text",id:"lowerZRange",value:e.ranges[2][0],onChange:e.handleRangeChange,style:{width:"2.5em"}}),",",Object(C.jsx)("input",{type:"text",id:"upperZRange",value:e.ranges[2][1],onChange:e.handleRangeChange,style:{width:"2.5em"}}),"]"]}),Object(C.jsx)("label",{className:"centered large-print underlined",style:{padding:"1em 0"},children:Object(C.jsx)("button",{onClick:e.handleUpdate,children:"Update"})}),Object(C.jsx)("label",{className:"centered large-print",children:"Graphics"}),Object(C.jsxs)("label",{className:"centered",style:{padding:"1em 0"},children:["Detail:",Object(C.jsx)("input",{type:"range",id:"detail",name:"detail",min:"10",max:"100",value:e.detail,onChange:e.handleDetailChange})]}),Object(C.jsxs)("label",{className:"centered underlined",style:{padding:"1em 0"},children:["Render Method:",Object(C.jsxs)("select",{id:"angle-value-dropdown",style:{marginLeft:"0.25em"},onChange:e.handleRenderingMethodChange,children:[Object(C.jsx)("option",{value:"vertices",children:"Vertices"}),Object(C.jsx)("option",{value:"edges",children:"Edges"}),Object(C.jsx)("option",{selected:!0,value:"faces",children:"Faces"})]})]}),Object(C.jsx)("label",{className:"centered large-print",children:"Camera Instructions"}),Object(C.jsx)("label",{className:"centered underlined",style:{padding:"1em 0"},children:"Left click and hold to rotate the camera around the projection. Right click and hold to move the camera sideways. Scroll to move the camera forwards or backwards."})]})};t(72);var S=function(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(50),i=Object(c.a)(s,2),l=i[0],d=i[1],h=Object(a.useState)("x^2+y^2"),u=Object(c.a)(h,2),g=u[0],p=u[1],x=Object(a.useState)([["-100","100"],["-100","100"],["0","20000"]]),v=Object(c.a)(x,2),j=v[0],b=v[1],f=Object(a.useState)({points:!1,squares:!1,planes:!0}),m=Object(c.a)(f,2),w=m[0],y=m[1];return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(k,{detail:l,expression:g,ranges:j,renderingMethod:w,updateCount:t}),Object(C.jsx)(E,{detail:l,handleDetailChange:function(e){d(e.target.value)},expression:g,handleExpressionChange:function(e){p(e.target.value)},ranges:j,handleRangeChange:function(e){var n=Object(o.a)(j);switch(e.target.id){case"lowerXRange":n[0][0]=e.target.value;break;case"upperXRange":n[0][1]=e.target.value;break;case"lowerYRange":n[1][0]=e.target.value;break;case"upperYRange":n[1][1]=e.target.value;break;case"lowerZRange":n[2][0]=e.target.value;break;case"upperZRange":n[2][1]=e.target.value}b(n)},handleRenderingMethodChange:function(e){switch(e.target.value){case"vertices":y({points:!0,squares:!1,planes:!1});break;case"edges":y({points:!1,squares:!0,planes:!1});break;case"faces":y({points:!1,squares:!1,planes:!0})}},handleUpdate:function(){r(t+1)}})]})};i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(S,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.787d6d81.chunk.js.map